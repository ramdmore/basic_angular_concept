<div class="container my-5">
  <h2 class="text-center mb-4 text-primary fw-bold">
    API Data
  </h2>

  <div class="table-responsive shadow rounded overflow-hidden">
    <table class="table table-bordered table-hover align-middle mb-0">
      <thead class="table-primary text-center">
        <tr>
          <th scope="col">#ID</th>
          <th scope="col">Title</th>
          <th scope="col">Status</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of apiDatas">
          <td class="text-center fw-semibold">{{ data.id }}</td>
          <td>{{ data.title }}</td>
          <td class="text-center">
            <span class="badge bg-success text-uppercase px-3">{{ data.state }}</span>
          </td>
          <td class="text-center">
            <button
              class="btn btn-outline-primary btn-sm"
              (click)="toggleCard(data)">
              {{ selectedIssue?.id === data.id ? 'Hide' : 'Show' }} User
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <nav class="d-flex justify-content-center my-4">
    <ul class="pagination pagination-sm">
      <li class="page-item" [class.disabled]="currentPage <= 1">
        <button class="page-link" (click)="prevPage()">Previous</button>
      </li>
      <li class="page-item disabled">
        <span class="page-link">Page {{ currentPage }}</span>
      </li>
      <li class="page-item">
        <button class="page-link" (click)="nextPage()">Next</button>
      </li>
    </ul>
  </nav>

  <!-- User Info Card -->
  <div *ngIf="selectedIssue && userDetails" class="card shadow rounded">
    <div class="card-header bg-dark text-white fw-semibold">
      ðŸ‘¤ User Info for Issue ID: #{{ selectedIssue.id }}
    </div>
    <div class="card-body">
      <div class="mb-3">
        <strong>Issue Title:</strong> {{ selectedIssue.title }}
      </div>

      <table class="table table-striped table-bordered">
        <thead class="table-light">
          <tr>
            <th scope="col">User ID</th>
            <th scope="col">Login</th>
            <th scope="col">Name</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ userDetails.id }}</td>
            <td>{{ userDetails.login }}</td>
            <td>{{ userDetails.name || 'N/A' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
